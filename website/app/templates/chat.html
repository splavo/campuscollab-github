{% extends 'base.html' %}
{% block title %}Collaborate{% endblock %}
{% block content %}

  <form method="post" action="{{ url_for('chat', chat_room_id = current_chat_room) }}">
    <!-- Hidden input for chat room ID -->
    <!-- <input type="hidden" name="chat_room_id" value="{{ current_chat_room }}"> -->

    <label for="body">Type your message:</label>
    <input type="text" name="body" required>
    <input type="submit" value="Send">
  </form>


<section style="background-color: #eee;">
    <div class="container py-5">
  
      <div class="row">
  
        <div class="col-md-6 col-lg-5 col-xl-4 mb-4 mb-md-0" style="height: 400px; overflow-y: auto;">
  
          <h5 class="font-weight-bold mb-3 text-center text-lg-start">Member</h5>

          <div class="card">
            <div class="card-body">
            {% for chat_room in chat_room_ids %}
              <ul class="list-unstyled mb-0">
                <li class="p-2 border-bottom" style="background-color: #eee;">
                  <a href="{{ url_for('chat', chat_room_id=chat_room) }}" class="d-flex justify-content-between">
                    <div class="d-flex flex-row">
                      <!-- <img src="" alt="avatar"
                        class="rounded-circle d-flex align-self-center me-3 shadow-1-strong" width="60"> -->
                      <div class="pt-1">
                        <p class="fw-bold mb-0">Chat {{ chat_room }}</p>
                        <p class="small text-muted">Hello, Are you there?</p>
                      </div>
                    </div>
                    <div class="pt-1">
                      <p class="small text-muted mb-1">Just now</p>
                      <span class="badge bg-danger float-end">1</span>
                    </div>
                  </a>
                </li>
              </ul>
              {% endfor %}
              
            </div>
          </div>
  
        </div>
    
        <div class="col-md-6 col-lg-7 col-xl-8" style="height: 400px; overflow-y: auto; position: relative;" >
        <h1>Chat {{ current_chat_room }}</h1>
        {% for message in messages %}
          
            <ul class="list-unstyled">
              <li class="d-flex justify-content-between mb-3">
                <!-- <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-6.webp" alt="avatar"
                  class="rounded-circle d-flex align-self-start me-3 shadow-1-strong" width="60"> -->
                <div class="card">
                  <div class="card-header d-flex justify-content-between p-3">
                    <p class="fw-bold mb-0">{{ names[message.sender_id] }}</p>
                    <p class="text-muted small mb-0"><i class="far fa-clock"></i> {{ message.timestamp }}</p>
                  </div>
                  <div class="card-body">
                    <p class="mb-0">
                      {{ message.body }}
                    </p>
                  </div>
                </div>
              </li>
            
          {% endfor %}
            <li class="d-flex justify-content-between mb-4">
              <div class="card w-100">
                <div class="card-header d-flex justify-content-between p-3">
                  <p class="fw-bold mb-0">Lara Croft</p>
                  <p class="text-muted small mb-0"><i class="far fa-clock"></i> 13 mins ago</p>
                </div>
                <div class="card-body">
                  <p class="mb-0">
                    Sed ut perspiciatiudantium.
                  </p>
                </div>
              </div>
              <!-- <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/avatar-5.webp" alt="avatar"
                class="rounded-circle d-flex align-self-start ms-3 shadow-1-strong" width="60"> -->
            </li>
            <li class="mb-3">
              <div class="form-outline">
                
              </div>
            </li>
          </ul>
  
        </div>
        <form method="post" action="{{ url_for('chat', chat_room_id = current_chat_room) }}">
          <!-- <textarea class="form-control" id="textAreaExample2" rows="4"></textarea>
          <label class="form-label" for="textAreaExample2">Message</label> -->
          <input type="text" name="body" required>
          <input type="submit" value="Send" class="btn btn-info btn-rounded float-end">
          </form>
      </div>
  
    </div>
  </section>





<!-- {% if messages %}
    {% for message in messages %}
        <h4>{{ message.author }}</h4>
        <p>{{ message.body }}</p>
    {% endfor %}
{% endif %} -->

{% endblock %}